# 🩺🎁 TaxBuddy (医療費控除 ＋ ふるさと納税 管理アプリ)
確定申告を「苦痛」から「達成感」へ。 医療費控除とふるさと納税のデータを一括管理し、e-Taxへの転記からNumbers（macOS）での書き出しまでシームレスに行うためのデスクトップアプリです。

## ✨ 特徴
二刀流ダッシュボード: 医療費とふるさと納税、それぞれの控除額と合計還付見込額をリアルタイムに算出。

e-Tax 転記サポート:

病院・受診者別の自動集計: e-Taxの入力項目に合わせて自動計算。

拡大表示モーダル: 入力画面を見やすく全画面表示し、転記ミスを防止。

データ・セーフティ:

堅牢なゴミ箱機能: 誤削除したデータを即座に「元に戻す」通知、および永続的なゴミ箱から復元。

インテリジェント編集: 入力済みのレコードをいつでも修正・更新可能。

外部データ連携:

CSVインポート: 他のデバイスや過去バージョンから出力したCSVを統合。

Numbers最適化エクスポート: macOSのNumbersで文字化けせずに開けるBOM付きCSV形式に対応。

完全ローカル保存 (Electron): データは外部サーバーへ送信されず、PC内の data.json に安全に保存。

モダンなUI/UX:

OS連動ダークモード: macOSの外観設定に自動追従。

Intel/Apple Silicon 両対応: 低速な環境でも確実にデータを読み込む通信リトライロジックを搭載。

## 🛠 技術スタック
Runtime: Electron (Desktop App)

Framework: Next.js (App Router)

Styling: Tailwind CSS v4

Linter/Formatter: Biome

Language: TypeScript

## 🚀 使い方
入力: 領収書を見ながら「日付・氏名・病院・金額」を入力。過去の履歴から自動サジェスト。

管理: 間違えて削除しても「ゴミ箱」からいつでも復元。

確認: e-Tax入力時は「🔍 全画面で大きく表示」をクリックし、病院ごとの合計を確認しながら転記。

提出準備: 確定申告時に「📊 Numbers形式で書き出す」をクリックし、自分用の控えを作成。

## 📈 制作工程・進捗状況
1. 基盤・医療費フェーズ（Done ✅）

[x] プロジェクト初期化・基本UI作成

[x] ダークモード完全対応

[x] 病院名の入力サジェスト機能

2. 税制・環境移行フェーズ（Done ✅）

[x] 医療費 ⇔ ふるさと納税 のタブ切り替えUI

[x] LocalStorage から Electron ファイル保存(data.json)への移行

[x] 計算ロジックの統合（医療費＋寄付金の合算）

3. 機能強化・データ保護フェーズ（v1.3.0 Done ✅）

[x] CSVインポート機能によるデータ統合

[x] レコード編集・更新機能

[x] 永続的なゴミ箱機能とUndo（元に戻す）の実装

[x] e-Tax転記専用の拡大表示モーダル

4. 構造最適化フェーズ（Upcoming 📅）

[ ] コンポーネントおよびカスタムフックへのリファクタリング

[ ] 控除限度額シミュレーター

[ ] 年度切り替え・アーカイブ機能

Developed on macOS.